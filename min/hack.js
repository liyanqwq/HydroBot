(()=>{"use strict";var __webpack_modules__={4320:(module,__unused_webpack_exports,__webpack_require__)=>{module=__webpack_require__.nmd(module);const fs_extra_1=__webpack_require__(4298),path_1=__webpack_require__(5622),tasks=[["koishi-core",2,["append","throw error2;","if (typeof error2 === 'string'){\n                session.user.usage[argv.command.name]--;\n                return session.send(error2);\n            }\n            session.send(error2.message);"]],["koishi-plugin-teach",3,["append","state.dialogue = dialogue;","\nsession._dialogue = dialogue;"],["replace",".toLowerCase().replace(/\\s+/g, '')",""],["replace","        if (index === 0)\n            message = message.replace(/^[()\\[\\]]*/, '');\n        if (index === arr.length - 1)\n            message = message.replace(/[\\.,?!()\\[\\]~]*$/, '');",""]]];async function hack(){console.log("Running Hack");for(const[filename,version,...changes]of tasks){let file;try{file=eval("require").resolve(filename)}catch(e){const name=filename.split("/")[0];file=eval("require").resolve(name).split(path_1.sep),file.pop(),file=`${file.join(path_1.sep)}${path_1.sep}${filename.split("/")[1]}`}let content=fs_extra_1.existsSync(file)?fs_extra_1.readFileSync(file).toString():"";if("string"==typeof version){fs_extra_1.writeFileSync(file,version);continue}const first=content.split("\n")[0],ver=parseInt(first.split("// Hacked v")[1],10);if(!(ver>=version)){for(const[e,r,n,t]of changes)if("replace"===e)content=content.replace(r,n);else if("replaceBetween"===e){const[e,s]=content.split(r),[,_]=s.split(n);content=e+r+t+n+_}else"append"===e?content=content.replace(r,r+n):"remove"===e&&(content=content.replace(r,""));content=`// Hacked v${version}\n${content}`,fs_extra_1.writeFileSync(file,content)}}}module.parent||hack(),module.exports=hack},4298:e=>{e.exports=require("fs-extra")},5622:e=>{e.exports=require("path")}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];if(void 0!==r)return r.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__=__webpack_require__(4320)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oeWRyby1ib3QvLi9zcmMvaGFjay50cyIsIndlYnBhY2s6Ly9oeWRyby1ib3QvZXh0ZXJuYWwgXCJmcy1leHRyYVwiIiwid2VicGFjazovL2h5ZHJvLWJvdC9leHRlcm5hbCBcInBhdGhcIiIsIndlYnBhY2s6Ly9oeWRyby1ib3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaHlkcm8tYm90L3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vaHlkcm8tYm90L3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJ0YXNrcyIsImFzeW5jIiwiaGFjayIsImNvbnNvbGUiLCJsb2ciLCJmaWxlbmFtZSIsInZlcnNpb24iLCJjaGFuZ2VzIiwiZmlsZSIsImV2YWwiLCJyZXNvbHZlIiwiZSIsIm5hbWUiLCJzcGxpdCIsInNlcCIsInBvcCIsImpvaW4iLCJjb250ZW50IiwiZXhpc3RzU3luYyIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwid3JpdGVGaWxlU3luYyIsImZpcnN0IiwidmVyIiwicGFyc2VJbnQiLCJ0eXBlIiwiYXJnMCIsImFyZzEiLCJhcmcyIiwicmVwbGFjZSIsImJlZm9yZSIsIm1pZCIsImFmdGVyIiwibW9kdWxlIiwicGFyZW50IiwiZXhwb3J0cyIsInJlcXVpcmUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJpZCIsImxvYWRlZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJubWQiLCJwYXRocyIsImNoaWxkcmVuIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJtYXBwaW5ncyI6ImdKQUFBLDJDQUNBLGlDQUVNQSxNQUFvRCxDQUN0RCxDQUNJLGNBQWUsRUFDZixDQUNJLFNBQVUsZ0JBQ1YsdU1BT1IsQ0FDSSxzQkFBdUIsRUFDdkIsQ0FBQyxTQUFVLDZCQUE4QixtQ0FDekMsQ0FBQyxVQUFXLHNDQUF1QyxJQUNuRCxDQUFDLFVBQVcsaU1BR2dELE1BSXBFQyxlQUFlQyxPQUNYQyxRQUFRQyxJQUFJLGdCQUNaLElBQUssTUFBT0MsU0FBVUMsV0FBWUMsV0FBWVAsTUFBTyxDQUNqRCxJQUFJUSxLQUNKLElBRUlBLEtBQU9DLEtBQUssV0FBV0MsUUFBUUwsVUFDakMsTUFBT00sR0FDTCxNQUFNQyxLQUFPUCxTQUFTUSxNQUFNLEtBQUssR0FFakNMLEtBQU9DLEtBQUssV0FBV0MsUUFBUUUsTUFBTUMsTUFBTSxPQUFBQyxLQUMzQ04sS0FBS08sTUFDTFAsS0FBTyxHQUFHQSxLQUFLUSxLQUFLLE9BQUFGLE9BQU8sT0FBQUEsTUFBTVQsU0FBU1EsTUFBTSxLQUFLLEtBRXpELElBQUlJLFFBQVUsV0FBQUMsV0FBV1YsTUFBUSxXQUFBVyxhQUFhWCxNQUFNWSxXQUFhLEdBQ2pFLEdBQXVCLGlCQUFaZCxRQUFzQixDQUM3QixXQUFBZSxjQUFjYixLQUFNRixTQUNwQixTQUVKLE1BQU1nQixNQUFRTCxRQUFRSixNQUFNLE1BQU0sR0FDNUJVLElBQU1DLFNBQVNGLE1BQU1ULE1BQU0sZUFBZSxHQUFJLElBQ3BELEtBQUlVLEtBQU9qQixTQUFYLENBQ0EsSUFBSyxNQUFPbUIsRUFBTUMsRUFBTUMsRUFBTUMsS0FBU3JCLFFBQ25DLEdBQWEsWUFBVGtCLEVBQ0FSLFFBQVVBLFFBQVFZLFFBQVFILEVBQU1DLFFBQzdCLEdBQWEsbUJBQVRGLEVBQTJCLENBQ2xDLE1BQU9LLEVBQVFDLEdBQU9kLFFBQVFKLE1BQU1hLElBQzdCLENBQUVNLEdBQVNELEVBQUlsQixNQUFNYyxHQUM1QlYsUUFBVWEsRUFBU0osRUFBT0UsRUFBT0QsRUFBT0ssTUFDeEIsV0FBVFAsRUFDUFIsUUFBVUEsUUFBUVksUUFBUUgsRUFBTUEsRUFBT0MsR0FDdkIsV0FBVEYsSUFDUFIsUUFBVUEsUUFBUVksUUFBUUgsRUFBTSxLQUd4Q1QsUUFBVSxjQUFjWCxZQUFZVyxVQUNwQyxXQUFBSSxjQUFjYixLQUFNUyxXQU12QmdCLE9BQU9DLFFBQVFoQyxPQUZwQixlQUFTQSxNLFNDbEVUK0IsRUFBT0UsUUFBVUMsUUFBUSxhLFNDQXpCSCxFQUFPRSxRQUFVQyxRQUFRLFVDQ3JCQyx5QkFBMkIsR0FHL0IsU0FBU0Msb0JBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCx5QkFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhTCxRQUdyQixJQUFJRixFQUFTSSx5QkFBeUJFLEdBQVksQ0FDakRHLEdBQUlILEVBQ0pJLFFBQVEsRUFDUlIsUUFBUyxJQVVWLE9BTkFTLG9CQUFvQkwsR0FBVU4sRUFBUUEsRUFBT0UsUUFBU0cscUJBR3RETCxFQUFPVSxRQUFTLEVBR1RWLEVBQU9FLFFDeEJmRyxvQkFBb0JPLElBQU9aLElBQzFCQSxFQUFPYSxNQUFRLEdBQ1ZiLEVBQU9jLFdBQVVkLEVBQU9jLFNBQVcsSUFDakNkLEdDQVIsSUFBSWUsb0JBQXNCVixvQkFBb0IsTyIsImZpbGUiOiJoYWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhpc3RzU3luYywgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jIH0gZnJvbSAnZnMtZXh0cmEnO1xuaW1wb3J0IHsgc2VwIH0gZnJvbSAncGF0aCc7XG5cbmNvbnN0IHRhc2tzOiBbc3RyaW5nLCBudW1iZXIgfCBzdHJpbmcsIC4uLnN0cmluZ1tdW11dW10gPSBbXG4gICAgW1xuICAgICAgICAna29pc2hpLWNvcmUnLCAyLFxuICAgICAgICBbXG4gICAgICAgICAgICAnYXBwZW5kJywgJ3Rocm93IGVycm9yMjsnLFxuICAgICAgICAgICAgYGlmICh0eXBlb2YgZXJyb3IyID09PSAnc3RyaW5nJyl7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi51c2VyLnVzYWdlW2FyZ3YuY29tbWFuZC5uYW1lXS0tO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLnNlbmQoZXJyb3IyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlc3Npb24uc2VuZChlcnJvcjIubWVzc2FnZSk7YCxcbiAgICAgICAgXSxcbiAgICBdLFxuICAgIFtcbiAgICAgICAgJ2tvaXNoaS1wbHVnaW4tdGVhY2gnLCAzLFxuICAgICAgICBbJ2FwcGVuZCcsICdzdGF0ZS5kaWFsb2d1ZSA9IGRpYWxvZ3VlOycsICdcXG5zZXNzaW9uLl9kaWFsb2d1ZSA9IGRpYWxvZ3VlOyddLFxuICAgICAgICBbJ3JlcGxhY2UnLCBcIi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcXFxzKy9nLCAnJylcIiwgJyddLFxuICAgICAgICBbJ3JlcGxhY2UnLCBgICAgICAgICBpZiAoaW5kZXggPT09IDApXG4gICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC9eWygpXFxcXFtcXFxcXV0qLywgJycpO1xuICAgICAgICBpZiAoaW5kZXggPT09IGFyci5sZW5ndGggLSAxKVxuICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZSgvW1xcXFwuLD8hKClcXFxcW1xcXFxdfl0qJC8sICcnKTtgLCAnJ10sXG4gICAgXSxcbl07XG5cbmFzeW5jIGZ1bmN0aW9uIGhhY2soKSB7XG4gICAgY29uc29sZS5sb2coJ1J1bm5pbmcgSGFjaycpO1xuICAgIGZvciAoY29uc3QgW2ZpbGVuYW1lLCB2ZXJzaW9uLCAuLi5jaGFuZ2VzXSBvZiB0YXNrcykge1xuICAgICAgICBsZXQgZmlsZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsXG4gICAgICAgICAgICBmaWxlID0gZXZhbCgncmVxdWlyZScpLnJlc29sdmUoZmlsZW5hbWUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gZmlsZW5hbWUuc3BsaXQoJy8nKVswXTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsXG4gICAgICAgICAgICBmaWxlID0gZXZhbCgncmVxdWlyZScpLnJlc29sdmUobmFtZSkuc3BsaXQoc2VwKTtcbiAgICAgICAgICAgIGZpbGUucG9wKCk7XG4gICAgICAgICAgICBmaWxlID0gYCR7ZmlsZS5qb2luKHNlcCl9JHtzZXB9JHtmaWxlbmFtZS5zcGxpdCgnLycpWzFdfWA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbnRlbnQgPSBleGlzdHNTeW5jKGZpbGUpID8gcmVhZEZpbGVTeW5jKGZpbGUpLnRvU3RyaW5nKCkgOiAnJztcbiAgICAgICAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgd3JpdGVGaWxlU3luYyhmaWxlLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gY29udGVudC5zcGxpdCgnXFxuJylbMF07XG4gICAgICAgIGNvbnN0IHZlciA9IHBhcnNlSW50KGZpcnN0LnNwbGl0KCcvLyBIYWNrZWQgdicpWzFdLCAxMCk7XG4gICAgICAgIGlmICh2ZXIgPj0gdmVyc2lvbikgY29udGludWU7XG4gICAgICAgIGZvciAoY29uc3QgW3R5cGUsIGFyZzAsIGFyZzEsIGFyZzJdIG9mIGNoYW5nZXMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAncmVwbGFjZScpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGFyZzAsIGFyZzEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncmVwbGFjZUJldHdlZW4nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2JlZm9yZSwgbWlkXSA9IGNvbnRlbnQuc3BsaXQoYXJnMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgWywgYWZ0ZXJdID0gbWlkLnNwbGl0KGFyZzEpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBiZWZvcmUgKyBhcmcwICsgYXJnMiArIGFyZzEgKyBhZnRlcjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FwcGVuZCcpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGFyZzAsIGFyZzAgKyBhcmcxKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3JlbW92ZScpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKGFyZzAsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZW50ID0gYC8vIEhhY2tlZCB2JHt2ZXJzaW9ufVxcbiR7Y29udGVudH1gO1xuICAgICAgICB3cml0ZUZpbGVTeW5jKGZpbGUsIGNvbnRlbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0ID0gaGFjaztcblxuaWYgKCFtb2R1bGUucGFyZW50KSBoYWNrKCk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmcy1leHRyYVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNDMyMCk7XG4iXSwic291cmNlUm9vdCI6IiJ9